# =============================================================================
# FORGE CASCADE V2 - PRODUCTION ENVIRONMENT VARIABLES
# =============================================================================
#
# Copy this file to .env.production and fill in the values.
# NEVER commit the actual .env.production file to version control!
#
# =============================================================================

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=forge-cascade
APP_ENV=production
DEBUG=false
LOG_LEVEL=INFO

# API Server
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=4

# Public URL (used for CORS, OAuth callbacks, etc.)
API_URL=https://api.forge.example.com
FRONTEND_URL=https://forge.example.com

# CORS (comma-separated origins)
CORS_ORIGINS=https://forge.example.com,https://admin.forge.example.com

# =============================================================================
# DATABASE - NEO4J
# =============================================================================
NEO4J_URI=bolt://neo4j:7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=<STRONG_PASSWORD_HERE>
NEO4J_DATABASE=neo4j

# Connection pool
NEO4J_MAX_CONNECTION_LIFETIME=3600
NEO4J_MAX_CONNECTION_POOL_SIZE=50
NEO4J_CONNECTION_TIMEOUT=30

# =============================================================================
# CACHE - REDIS
# =============================================================================
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=<STRONG_PASSWORD_HERE>
CACHE_TTL_SECONDS=3600

# =============================================================================
# SECURITY - JWT
# =============================================================================
# Generate with: openssl rand -hex 64
JWT_SECRET_KEY=<64_CHAR_HEX_STRING_HERE>
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=60
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# Password hashing
PASSWORD_BCRYPT_ROUNDS=12

# =============================================================================
# AI SERVICES - LLM
# =============================================================================
# Provider: anthropic, openai, ollama, mock
LLM_PROVIDER=anthropic

# Anthropic (Claude)
LLM_API_KEY=sk-ant-api03-<YOUR_KEY_HERE>
LLM_MODEL=claude-sonnet-4-20250514

# OpenAI (alternative)
# LLM_PROVIDER=openai
# LLM_API_KEY=sk-<YOUR_KEY_HERE>
# LLM_MODEL=gpt-4-turbo-preview

# Settings
LLM_MAX_TOKENS=4096
LLM_TEMPERATURE=0.7

# =============================================================================
# AI SERVICES - EMBEDDINGS
# =============================================================================
# Provider: openai, sentence_transformers, mock
EMBEDDING_PROVIDER=openai

# OpenAI Embeddings
EMBEDDING_API_KEY=sk-<YOUR_KEY_HERE>
EMBEDDING_MODEL=text-embedding-3-small
EMBEDDING_DIMENSIONS=1536

# Settings
EMBEDDING_CACHE_ENABLED=true
EMBEDDING_BATCH_SIZE=100

# =============================================================================
# IMMUNE SYSTEM
# =============================================================================
# Circuit Breaker
CIRCUIT_BREAKER_FAILURE_THRESHOLD=3
CIRCUIT_BREAKER_SUCCESS_THRESHOLD=2
CIRCUIT_BREAKER_TIMEOUT_SECONDS=30

# Canary Deployments
CANARY_INITIAL_TRAFFIC_PERCENT=0.05
CANARY_MIN_REQUESTS=100
CANARY_MAX_ERROR_RATE=0.01
CANARY_MAX_LATENCY_RATIO=2.0

# Health Checks
HEALTH_CHECK_INTERVAL_SECONDS=30
AUTO_QUARANTINE_THRESHOLD=3

# =============================================================================
# PIPELINE
# =============================================================================
PIPELINE_TIMEOUT_SECONDS=30
PIPELINE_MAX_CONCURRENT=10
PIPELINE_CACHE_ENABLED=true

# =============================================================================
# MONITORING
# =============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Jaeger (Distributed Tracing)
JAEGER_ENABLED=false
JAEGER_HOST=jaeger
JAEGER_PORT=6831

# Sentry (Error Tracking)
SENTRY_DSN=https://<KEY>@sentry.io/<PROJECT_ID>

# =============================================================================
# GRAFANA
# =============================================================================
GRAFANA_USER=admin
GRAFANA_PASSWORD=<STRONG_PASSWORD_HERE>
GRAFANA_ROOT_URL=https://grafana.forge.example.com

# =============================================================================
# DOCKER
# =============================================================================
VERSION=latest
COMPOSE_PROJECT_NAME=forge-cascade

# =============================================================================
# SECRETS MANAGEMENT (Optional - for production)
# =============================================================================
# If using AWS Secrets Manager, HashiCorp Vault, etc.
# SECRETS_BACKEND=aws_secrets_manager
# AWS_REGION=us-east-1
# SECRETS_PREFIX=forge/production

# =============================================================================
# EXTERNAL SERVICES (Optional)
# =============================================================================
# S3 for file storage
# AWS_ACCESS_KEY_ID=<YOUR_KEY>
# AWS_SECRET_ACCESS_KEY=<YOUR_SECRET>
# S3_BUCKET=forge-cascade-files
# S3_REGION=us-east-1

# Email (for notifications)
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASSWORD=<YOUR_SENDGRID_KEY>
# EMAIL_FROM=noreply@forge.example.com
